{"ast":null,"code":"import PianoMenu from \"./components/main/menu\";\nimport PianoKeyboard from \"./components/main/keyboard\";\nimport SaveSong from \"./components/screens/savesong\";\nimport Loading from \"./components/screens/loading\";\nimport { mapState, mapActions } from 'vuex';\nimport { canvasState } from \"@/store/consts/states.js\";\nimport { resizeCanvas } from \"@/store/consts/actions.js\";\nexport default {\n  components: {\n    PianoMenu,\n    PianoKeyboard,\n    SaveSong,\n    Loading\n  },\n  created() {\n    window.addEventListener(\"resize\", this.resize);\n    this.$root.$on(\"resize_canvas_notes\", this.resize);\n  },\n  destroyed() {\n    window.removeEventListener(\"resize\", {});\n  },\n  methods: {\n    ...mapActions(canvasState, [resizeCanvas]),\n    /** \n    * document.getElementById/getElementsByClassName are took from PianoKeyboard.vue  \n    * because they are already rendered in resize when event eventually happens\n    **/\n    resize() {\n      const pianoContainerDimensions = document.getElementById(\"piano-container\").getBoundingClientRect();\n      const pianoMenuDimensions = document.getElementById(\"piano-menu\").getBoundingClientRect();\n      const height = window.innerHeight - pianoContainerDimensions.height - pianoMenuDimensions.height + 1;\n      const width = pianoContainerDimensions.width;\n      const whiteNotes = document.getElementsByClassName(\"white-note\");\n      const blackNotes = document.getElementsByClassName(\"black-note\");\n      const whiteWidth = whiteNotes[0].getBoundingClientRect().width;\n      const blackWidth = blackNotes[0].getBoundingClientRect().width;\n      const array = Array.from(whiteNotes).concat(Array.from(blackNotes));\n      const waterfallDelay = height * 10;\n      this.resizeCanvas({\n        height,\n        width,\n        array,\n        whiteWidth,\n        blackWidth,\n        waterfallDelay\n      });\n    }\n  }\n};","map":{"version":3,"mappings":"AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;EACAA;IAAAC;IAAAC;IAAAC;IAAAC;EAAA;EAEAC;IACAC;IACA;EACA;EAEAC;IACAD;EACA;EAEAE;IACA;IAEA;AACA;AACA;AACA;IACAC;MACA;MACA;MAEA;MACA;MAEA;MACA;MAEA;MACA;MAEA;MACA;MAEA;QAAAC;QAAAC;QAAAC;QAAAC;QAAAC;QAAAC;MAAA;IACA;EACA;AACA","names":["components","PianoMenu","PianoKeyboard","SaveSong","Loading","created","window","destroyed","methods","resize","height","width","array","whiteWidth","blackWidth","waterfallDelay"],"sourceRoot":"src","sources":["Piano.vue"],"sourcesContent":["<template>\n  <div id=\"piano\" data-app>\n    <PianoMenu> </PianoMenu>\n    <canvas style=\"background: url('./canvas_black_background.jpg')\"> </canvas>\n    <PianoKeyboard> </PianoKeyboard>\n    <SaveSong> </SaveSong>\n    <Loading> </Loading>\n  </div>\n</template>\n\n<script>\nimport PianoMenu from \"./components/main/menu\";\nimport PianoKeyboard from \"./components/main/keyboard\";\nimport SaveSong from \"./components/screens/savesong\"\nimport Loading from \"./components/screens/loading\"\nimport { mapState, mapActions } from 'vuex';\nimport { canvasState } from \"@/store/consts/states.js\";\nimport { resizeCanvas } from \"@/store/consts/actions.js\"\n\nexport default {\n  components: { PianoMenu, PianoKeyboard, SaveSong, Loading },\n\n  created() {\n    window.addEventListener(\"resize\", this.resize);\n    this.$root.$on(\"resize_canvas_notes\", this.resize);\n  },\n\n  destroyed() {\n    window.removeEventListener(\"resize\", {});\n  },\n\n  methods: {\n    ...mapActions(canvasState, [resizeCanvas]),\n\n    /** \n    * document.getElementById/getElementsByClassName are took from PianoKeyboard.vue  \n    * because they are already rendered in resize when event eventually happens\n    **/\n    resize() {\n      const pianoContainerDimensions = document.getElementById(\"piano-container\").getBoundingClientRect();\n      const pianoMenuDimensions = document.getElementById(\"piano-menu\").getBoundingClientRect();\n\n      const height = window.innerHeight - pianoContainerDimensions.height - pianoMenuDimensions.height + 1;\n      const width = pianoContainerDimensions.width;\n\n      const whiteNotes = document.getElementsByClassName(\"white-note\");\n      const blackNotes = document.getElementsByClassName(\"black-note\");\n\n      const whiteWidth = whiteNotes[0].getBoundingClientRect().width;\n      const blackWidth = blackNotes[0].getBoundingClientRect().width;\n\n      const array = Array.from(whiteNotes).concat(Array.from(blackNotes));\n      const waterfallDelay = height * 10;\n\n      this.resizeCanvas({ height, width, array, whiteWidth, blackWidth, waterfallDelay });\n    },\n  },\n}\n</script>\n\n<style>\n* {\n  -webkit-user-select: none;\n  /* Safari */\n  -ms-user-select: none;\n  /* IE 10+ and Edge */\n  user-select: none;\n  /* Standard syntax */\n  box-sizing: border-box;\n  font-family: \"Lucida Console\", Courier, monospace;\n}\n\nbody,\nhtml {\n  height: 100%;\n  width: 100%;\n  margin: 0;\n  padding: 0;\n  overflow-y: hidden;\n}\n\n#piano {\n  height: 100%;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  flex-direction: column;\n}\n\nselect:focus {\n  outline: 0;\n}\n\nbutton:focus {\n  outline: 0;\n}\n\ninput:focus {\n  outline: 0;\n}\n\n::-webkit-scrollbar {\n  width: 5px;\n}\n\n::-webkit-scrollbar-track {\n  background: #f1f1f1;\n}\n\n::-webkit-scrollbar-thumb {\n  background: #888;\n  border-radius: 2px;\n}\n\n::-webkit-scrollbar-thumb:hover {\n  background: #555;\n  border-radius: 2px;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}