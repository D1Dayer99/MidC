{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { canvasState, recordingState } from \"@/store/consts/states.js\";\nimport { CLEAR_NOTES_ARRAY, CLEAR_NOTES_INDICES_ARRAY, SET_KEY_WIDTH_SIZE, SET_KEY_PRESSED, SET_MOUSE_PRESSED, ADD_NOTE, SET_NOTE_KEY, UPDATE_INDEX_KEY, DELETE_INDEX_KEY, CLEAR_PRESSED_KEYS, ADD_RECORD_MAP, ADD_RECORD_MIDI } from \"@/store/consts/mutation_types.js\";\nimport { playNote, playNoteMouse, playNoteHover, removePressedKey, removePressedKeyMouse, changeInput, generateNotes, generateNotesIndexesByKey, startDraw, stopDraw } from \"@/store/consts/actions.js\";\nexport default {\n  namespaced: true,\n  state: {\n    notesIndexesByKey: {},\n    notes: [],\n    whiteNoteWidthSize: 0,\n    isMousePressed: false,\n    allKeys: ['q', 'w', 'e', 'r', 't', 'y', 'u', 'i', 'o', 'p', 'a', 's', 'd', 'f', 'g', 'h', 'j', 'k', 'l', ';', 'z', 'x', 'c', 'v', 'b', 'n', 'm', ',', '.', '/'],\n    allNotes: ['C', 'D', 'E', 'F', 'G', 'A', 'B']\n  },\n  mutations: {\n    [CLEAR_NOTES_ARRAY](state) {\n      state.notes.length = 0;\n    },\n    [CLEAR_NOTES_INDICES_ARRAY](state) {\n      state.notesIndexesByKey.length = 0;\n    },\n    [SET_KEY_WIDTH_SIZE](state, size) {\n      state.whiteNoteWidthSize = size;\n    },\n    [SET_KEY_PRESSED](state, {\n      index,\n      forBlackNote,\n      pressed\n    }) {\n      if (forBlackNote) {\n        state.notes[index].blackNote.pressed = pressed;\n      } else {\n        state.notes[index].pressed = pressed;\n      }\n    },\n    [SET_MOUSE_PRESSED](state, value) {\n      state.isMousePressed = value;\n    },\n    [SET_NOTE_KEY](state, {\n      value,\n      index,\n      forBlackNote\n    }) {\n      if (forBlackNote) {\n        state.notes[index].blackNote.key = value;\n      } else {\n        state.notes[index].key = value;\n      }\n    },\n    [ADD_NOTE](state, note) {\n      state.notes.push(note);\n    },\n    [ADD_NEW_KEY_INDEX](state, {\n      index,\n      forBlackNote\n    }) {\n      if (forBlackNote) {\n        state.notesIndexesByKey[state.notes[index].blackNote.key] = index;\n      } else {\n        state.notesIndexesByKey[state.notes[index].key] = index;\n      }\n    },\n    [UPDATE_INDEX_KEY](state, {\n      key,\n      index\n    }) {\n      state.notesIndexesByKey[key] = index;\n    },\n    [DELETE_INDEX_KEY](state, key) {\n      delete state.notesIndexesByKey[key];\n    },\n    [CLEAR_PRESSED_KEYS](state) {\n      for (let note of state.notes) {\n        note.pressed = false;\n        if (note.blackNote) {\n          note.blackNote.pressed = false;\n        }\n      }\n    }\n  },\n  actions: {\n    [playNote]({\n      commit,\n      state,\n      rootState,\n      dispatch\n    }, {\n      index,\n      forBlackNote\n    }) {\n      const currentNote = forBlackNote ? state.notes[index].blackNote : state.notes[index];\n      if (!currentNote.pressed && !rootState.menuState.editKeys) {\n        rootState.toneState.sampler.triggerAttack(currentNote.note);\n        commit(SET_KEY_PRESSED, {\n          index,\n          forBlackNote,\n          pressed: true\n        });\n        if (rootState.recordingState.isRecording) {\n          commit(recordingState + \"/\" + ADD_RECORD_MAP, currentNote.note, {\n            root: true\n          });\n        }\n        dispatch(canvasState + \"/\" + startDraw, {\n          noteName: currentNote.note,\n          forBlackNote\n        }, {\n          root: true\n        });\n      }\n    },\n    [playNoteMouse]({\n      commit,\n      dispatch\n    }, {\n      index,\n      forBlackNote\n    }) {\n      commit(SET_MOUSE_PRESSED, true);\n      dispatch(playNote, {\n        index,\n        forBlackNote\n      });\n    },\n    [playNoteHover]({\n      state,\n      dispatch\n    }, {\n      index,\n      forBlackNote\n    }) {\n      if (state.isMousePressed) {\n        dispatch(playNote, {\n          index,\n          forBlackNote\n        });\n      }\n    },\n    [removePressedKey]({\n      state,\n      commit,\n      rootState,\n      dispatch\n    }, {\n      index,\n      forBlackNote\n    }) {\n      const currentNote = forBlackNote ? state.notes[index].blackNote : state.notes[index];\n      if (currentNote.pressed === true) {\n        if (rootState.menuState.sustain == false) {\n          rootState.toneState.sampler.triggerRelease(currentNote.note);\n        }\n        commit(SET_KEY_PRESSED, {\n          index,\n          forBlackNote,\n          pressed: false\n        });\n        if (rootState.recordingState.isRecording) {\n          commit(recordingState + \"/\" + ADD_RECORD_MIDI, currentNote.note, {\n            root: true\n          });\n        }\n        dispatch(canvasState + \"/\" + stopDraw, {\n          noteName: currentNote.note,\n          forBlackNote\n        }, {\n          root: true\n        });\n      }\n    },\n    [removePressedKeyMouse]({\n      commit,\n      dispatch\n    }, {\n      index,\n      forBlackNote\n    }) {\n      commit(SET_MOUSE_PRESSED, false);\n      dispatch(removePressedKey, {\n        index,\n        forBlackNote\n      });\n    },\n    [changeInput]({\n      commit\n    }, {\n      value,\n      key,\n      index,\n      forBlackNote\n    }) {\n      commit(DELETE_INDEX_KEY, key);\n      commit(SET_NOTE_KEY, {\n        value,\n        index,\n        forBlackNote\n      });\n      commit(UPDATE_INDEX_KEY, {\n        key: value,\n        index\n      });\n    },\n    [generateNotes]({\n      commit,\n      state,\n      rootState\n    }) {\n      commit(CLEAR_NOTES_ARRAY);\n      let keyIndex = 0;\n      let noteIndex = 0;\n      const startOctave = rootState.menuState.octaves[0];\n      const endOctave = rootState.menuState.octaves[1];\n      for (let octave = startOctave; octave <= endOctave; octave++) {\n        while (noteIndex < state.allNotes.length) {\n          const currentNote = state.allNotes[noteIndex];\n          let newNote = {\n            note: currentNote + octave,\n            key: state.allKeys[keyIndex++],\n            pressed: false\n          };\n          if (currentNote != 'B' && currentNote != 'E') {\n            let blackNote = {\n              note: currentNote + '#' + octave,\n              key: state.allKeys[keyIndex++],\n              pressed: false\n            };\n            newNote[\"blackNote\"] = blackNote;\n          }\n          commit(ADD_NOTE, newNote);\n          if (octave === endOctave && currentNote === 'B') {\n            // we always end with note B\n            break;\n          }\n          noteIndex++;\n        }\n        noteIndex = 0;\n      }\n      commit(SET_KEY_WIDTH_SIZE, 100 / state.notes.length);\n    },\n    [generateNotesIndexesByKey]({\n      commit,\n      state\n    }) {\n      commit(CLEAR_NOTES_INDICES_ARRAY);\n      for (let index = 0; index < state.notes.length; index++) {\n        let forBlackNote = false;\n        commit(ADD_NEW_KEY_INDEX, {\n          index,\n          forBlackNote\n        });\n        if (state.notes[index].blackNote != undefined) {\n          forBlackNote = true;\n          commit(ADD_NEW_KEY_INDEX, {\n            index,\n            forBlackNote\n          });\n        }\n      }\n    }\n  }\n};","map":{"version":3,"names":["canvasState","recordingState","CLEAR_NOTES_ARRAY","CLEAR_NOTES_INDICES_ARRAY","SET_KEY_WIDTH_SIZE","SET_KEY_PRESSED","SET_MOUSE_PRESSED","ADD_NOTE","SET_NOTE_KEY","UPDATE_INDEX_KEY","DELETE_INDEX_KEY","CLEAR_PRESSED_KEYS","ADD_RECORD_MAP","ADD_RECORD_MIDI","playNote","playNoteMouse","playNoteHover","removePressedKey","removePressedKeyMouse","changeInput","generateNotes","generateNotesIndexesByKey","startDraw","stopDraw","namespaced","state","notesIndexesByKey","notes","whiteNoteWidthSize","isMousePressed","allKeys","allNotes","mutations","length","size","index","forBlackNote","pressed","blackNote","value","key","note","push","ADD_NEW_KEY_INDEX","actions","commit","rootState","dispatch","currentNote","menuState","editKeys","toneState","sampler","triggerAttack","isRecording","root","noteName","sustain","triggerRelease","keyIndex","noteIndex","startOctave","octaves","endOctave","octave","newNote","undefined"],"sources":["/Users/Sunhaoxiang/Desktop/IB_CS/CS_IA/src/store/modules/keyboardState.js"],"sourcesContent":["import { canvasState, recordingState } from \"@/store/consts/states.js\";\nimport { CLEAR_NOTES_ARRAY, \n  CLEAR_NOTES_INDICES_ARRAY,\n  SET_KEY_WIDTH_SIZE,\n  SET_KEY_PRESSED,\n  SET_MOUSE_PRESSED,\n  ADD_NOTE,\n  SET_NOTE_KEY,\n  UPDATE_INDEX_KEY,\n  DELETE_INDEX_KEY,\n  CLEAR_PRESSED_KEYS,\n  ADD_RECORD_MAP,\n  ADD_RECORD_MIDI\n} from \"@/store/consts/mutation_types.js\";\nimport { playNote, \n  playNoteMouse,\n  playNoteHover,\n  removePressedKey,\n  removePressedKeyMouse,\n  changeInput,\n  generateNotes,\n  generateNotesIndexesByKey,\n  startDraw,\n  stopDraw\n} from \"@/store/consts/actions.js\";\n\nexport default {\n    namespaced: true,\n\n    state: {\n      notesIndexesByKey: {},\n      notes : [],\n\n      whiteNoteWidthSize: 0,\n      isMousePressed: false,\n\n      allKeys: ['q', 'w', 'e', 'r', 't', 'y', 'u', 'i', 'o', 'p',\n        'a', 's', 'd', 'f', 'g', 'h', 'j', 'k', 'l',';',\n        'z','x','c','v','b','n','m',',','.','/'\n      ],\n\n      allNotes:['C', 'D', 'E', 'F', 'G', 'A', 'B'],\n    },\n\n    mutations: {\n      [CLEAR_NOTES_ARRAY](state){\n          state.notes.length = 0;\n      },\n      [CLEAR_NOTES_INDICES_ARRAY](state){\n          state.notesIndexesByKey.length = 0;\n      },\n      [SET_KEY_WIDTH_SIZE](state, size){\n        state.whiteNoteWidthSize = size;\n      },\n      [SET_KEY_PRESSED](state, { index, forBlackNote, pressed }){\n        if(forBlackNote){\n          state.notes[index].blackNote.pressed = pressed;\n        } else {\n          state.notes[index].pressed = pressed;\n        }\n      },\n      [SET_MOUSE_PRESSED](state, value){\n        state.isMousePressed = value;\n      },\n      [SET_NOTE_KEY](state, { value, index, forBlackNote }){\n        if(forBlackNote){\n          state.notes[index].blackNote.key = value;\n        } else {\n          state.notes[index].key = value;\n        }\n      },\n      [ADD_NOTE](state, note){\n          state.notes.push(note);\n      },\n      [ADD_NEW_KEY_INDEX](state, { index, forBlackNote }){\n        if(forBlackNote){\n          state.notesIndexesByKey[state.notes[index].blackNote.key] = index;\n        } else {\n          state.notesIndexesByKey[state.notes[index].key] = index;\n        }\n      },\n      [UPDATE_INDEX_KEY](state, { key, index }){\n        state.notesIndexesByKey[key] = index;\n      }, \n      [DELETE_INDEX_KEY](state, key){\n        delete state.notesIndexesByKey[key];\n      },\n      [CLEAR_PRESSED_KEYS](state) {\n        for(let note of state.notes) {\n          note.pressed = false;\n          if(note.blackNote){\n            note.blackNote.pressed = false;\n          }\n        }\n      }\n  },\n\n    actions: {\n      [playNote]({ commit, state, rootState, dispatch}, { index, forBlackNote }) {\n        const currentNote = forBlackNote ? state.notes[index].blackNote : state.notes[index];\n        if(!currentNote.pressed && !rootState.menuState.editKeys) {\n\n          rootState.toneState.sampler.triggerAttack(currentNote.note);\n\n          commit(SET_KEY_PRESSED, { index, forBlackNote, pressed : true });\n        \n          if(rootState.recordingState.isRecording){\n            commit(recordingState + \"/\" + ADD_RECORD_MAP, currentNote.note, {root:true});\n          }\n\n          dispatch(canvasState + \"/\" + startDraw, {noteName: currentNote.note, forBlackNote}, {root:true});\n        }\n      },\n\n      [playNoteMouse]({ commit, dispatch }, { index, forBlackNote }) {\n        commit(SET_MOUSE_PRESSED, true);\n        dispatch(playNote, { index, forBlackNote });\n      },\n  \n      [playNoteHover]({ state, dispatch }, { index, forBlackNote }) {\n        if(state.isMousePressed){ \n          dispatch(playNote, { index, forBlackNote });\n        }\n      },\n\n      [removePressedKey]({ state, commit, rootState, dispatch }, { index, forBlackNote }) {\n        const currentNote = forBlackNote ? state.notes[index].blackNote : state.notes[index];\n        if(currentNote.pressed === true){\n\n          if(rootState.menuState.sustain == false){\n            rootState.toneState.sampler.triggerRelease(currentNote.note);\n          }\n\n          commit(SET_KEY_PRESSED, { index, forBlackNote, pressed : false });\n\n          if(rootState.recordingState.isRecording){\n            commit(recordingState + \"/\" + ADD_RECORD_MIDI, currentNote.note, {root:true});\n          }\n\n          dispatch(canvasState + \"/\" + stopDraw, {noteName: currentNote.note, forBlackNote}, {root:true});\n        }\n      },\n\n      [removePressedKeyMouse]({ commit, dispatch }, { index, forBlackNote }) {\n        commit(SET_MOUSE_PRESSED, false);\n        dispatch(removePressedKey, { index, forBlackNote });\n      },\n\n      [changeInput]({ commit }, {value, key, index, forBlackNote}) {\n        commit(DELETE_INDEX_KEY, key);\n        commit(SET_NOTE_KEY, {value, index, forBlackNote});\n        commit(UPDATE_INDEX_KEY, {key:value, index})\n      },\n\n      [generateNotes]({ commit, state, rootState }) {\n        commit(CLEAR_NOTES_ARRAY);\n        let keyIndex = 0;\n        let noteIndex = 0;\n        const startOctave = rootState.menuState.octaves[0];\n        const endOctave = rootState.menuState.octaves[1];\n\n        for(let octave = startOctave; octave <= endOctave; octave++) {\n  \n            while(noteIndex < state.allNotes.length) {\n              const currentNote = state.allNotes[noteIndex];\n  \n              let newNote = {\n                note: currentNote + octave,\n                key: state.allKeys[keyIndex++],\n                pressed: false,\n              }\n  \n              if(currentNote != 'B' && currentNote!= 'E') {\n                let blackNote = {\n                  note: currentNote + '#' + octave,\n                  key: state.allKeys[keyIndex++],\n                  pressed: false,\n                }\n  \n                newNote[\"blackNote\"] = blackNote;\n              }\n            \n              commit(ADD_NOTE, newNote);\n  \n              if(octave === endOctave && currentNote === 'B'){ // we always end with note B\n                break;\n              }\n  \n              noteIndex++;\n            }\n            noteIndex = 0;\n        }\n  \n        commit(SET_KEY_WIDTH_SIZE, 100 / state.notes.length);\n      },\n\n      [generateNotesIndexesByKey]({ commit, state }) {\n          commit(CLEAR_NOTES_INDICES_ARRAY);\n          \n          for(let index = 0; index < state.notes.length; index++){\n            let forBlackNote = false;  \n            commit(ADD_NEW_KEY_INDEX, { index, forBlackNote });\n    \n            if(state.notes[index].blackNote != undefined){\n              forBlackNote = true;\n              commit(ADD_NEW_KEY_INDEX, { index, forBlackNote });\n            } \n          }\n      },\n    },\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}