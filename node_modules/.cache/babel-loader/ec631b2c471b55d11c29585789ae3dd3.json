{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { canvasState, recordingState } from \"@/store/consts/states.js\";\nimport { CLEAR_NOTES_ARRAY, CLEAR_NOTES_INDICES_ARRAY, SET_WHITE_NOTE_WIDTH_SIZE, SET_NOTE_PRESSED, SET_MOUSE_PRESSED, ADD_NOTE, CLEAR_PRESSED_KEYS, ADD_RECORD_MAP, ADD_RECORD_MIDI } from \"@/store/consts/mutations.js\";\nimport { playNote, playNoteMouse, playNoteHover, removePressedKey, removePressedKeyMouse, changeInput, generateNotes, generateNotesIndexesByKey, startDrawNote, stopDrawNote } from \"@/store/consts/actions.js\";\nexport default {\n  namespaced: true,\n  state: {\n    notesIndexesByKey: {},\n    notes: [],\n    whiteNoteWidthSize: 0,\n    isMousePressed: false,\n    // 45 keys\n    allKeys: ['`', `1`, '2', '3', '4', '5', '6', '7', '8', '9', '0', '-', '=', 'q', 'w', 'e', 'r', 't', 'y', 'u', 'i', 'o', 'p', '[', ']', '\\\\', 'a', 's', 'd', 'f', 'g', 'h', 'j', 'k', 'l', ';', 'z', 'x', 'c', 'v', 'b', 'n', 'm', ',', '.'],\n    allNotes: ['C', 'D', 'E', 'F', 'G', 'A', 'B']\n  },\n  mutations: {\n    [CLEAR_NOTES_ARRAY](state) {\n      state.notes.length = 0;\n    },\n    [CLEAR_NOTES_INDICES_ARRAY](state) {\n      state.notesIndexesByKey.length = 0;\n    },\n    [SET_WHITE_NOTE_WIDTH_SIZE](state, size) {\n      state.whiteNoteWidthSize = size;\n    },\n    [SET_NOTE_PRESSED](state, {\n      index,\n      forBlackNote,\n      pressed\n    }) {\n      if (forBlackNote) {\n        state.notes[index].blackNote.pressed = pressed;\n      } else {\n        state.notes[index].pressed = pressed;\n      }\n    },\n    [SET_MOUSE_PRESSED](state, value) {\n      state.isMousePressed = value;\n    },\n    [ADD_NOTE](state, note) {\n      state.notes.push(note);\n    },\n    [CLEAR_PRESSED_KEYS](state) {\n      for (let note of state.notes) {\n        note.pressed = false;\n        if (note.blackNote) {\n          note.blackNote.pressed = false;\n        }\n      }\n    }\n  },\n  actions: {\n    [playNote]({\n      commit,\n      state,\n      rootState,\n      dispatch\n    }, {\n      index,\n      forBlackNote\n    }) {\n      const currentNote = forBlackNote ? state.notes[index].blackNote : state.notes[index];\n      if (!currentNote.pressed && !rootState.menuState.editKeys) {\n        if (rootState.menuState.sustain == false) {\n          rootState.toneState.sampler.triggerAttack(currentNote.note);\n        } else {\n          rootState.toneState.sampler.triggerAttackRelease(currentNote.note, \"2n\");\n        }\n        commit(SET_NOTE_PRESSED, {\n          index,\n          forBlackNote,\n          pressed: true\n        });\n        if (rootState.recordingState.isRecording) {\n          commit(recordingState + \"/\" + ADD_RECORD_MAP, currentNote.note, {\n            root: true\n          });\n        }\n        dispatch(canvasState + \"/\" + startDrawNote, {\n          noteName: currentNote.note,\n          forBlackNote\n        }, {\n          root: true\n        });\n      }\n    },\n    [playNoteMouse]({\n      commit,\n      dispatch\n    }, {\n      index,\n      forBlackNote\n    }) {\n      commit(SET_MOUSE_PRESSED, true);\n      dispatch(playNote, {\n        index,\n        forBlackNote\n      });\n    },\n    [playNoteHover]({\n      state,\n      dispatch\n    }, {\n      index,\n      forBlackNote\n    }) {\n      if (state.isMousePressed) {\n        dispatch(playNote, {\n          index,\n          forBlackNote\n        });\n      }\n    },\n    [removePressedKey]({\n      state,\n      commit,\n      rootState,\n      dispatch\n    }, {\n      index,\n      forBlackNote\n    }) {\n      const currentNote = forBlackNote ? state.notes[index].blackNote : state.notes[index];\n      if (currentNote.pressed === true) {\n        if (rootState.menuState.sustain == false) {\n          rootState.toneState.sampler.triggerRelease(currentNote.note);\n        }\n        commit(SET_NOTE_PRESSED, {\n          index,\n          forBlackNote,\n          pressed: false\n        });\n        if (rootState.recordingState.isRecording) {\n          commit(recordingState + \"/\" + ADD_RECORD_MIDI, currentNote.note, {\n            root: true\n          });\n        }\n        dispatch(canvasState + \"/\" + stopDrawNote, {\n          noteName: currentNote.note,\n          forBlackNote\n        }, {\n          root: true\n        });\n      }\n    },\n    [removePressedKeyMouse]({\n      commit,\n      dispatch\n    }, {\n      index,\n      forBlackNote\n    }) {\n      commit(SET_MOUSE_PRESSED, false);\n      dispatch(removePressedKey, {\n        index,\n        forBlackNote\n      });\n    },\n    [changeInput]({\n      commit\n    }, {\n      value,\n      key,\n      index,\n      forBlackNote\n    }) {\n      commit(DELETE_INDEX_KEY, key);\n      commit(SET_NOTE_KEY, {\n        value,\n        index,\n        forBlackNote\n      });\n      commit(UPDATE_INDEX_KEY, {\n        key: value,\n        index\n      });\n    },\n    [generateNotes]({\n      commit,\n      state,\n      rootState\n    }) {\n      commit(CLEAR_NOTES_ARRAY);\n      let keyIndex = 0;\n      let noteIndex = 0;\n      const startOctave = rootState.menuState.octaves[0];\n      const endOctave = rootState.menuState.octaves[1];\n      for (let octave = startOctave; octave <= endOctave; octave++) {\n        while (noteIndex < state.allNotes.length) {\n          const currentNote = state.allNotes[noteIndex];\n          let newNote = {\n            note: currentNote + octave,\n            key: state.allKeys[keyIndex++],\n            pressed: false\n          };\n          if (currentNote != 'B' && currentNote != 'E') {\n            let blackNote = {\n              note: currentNote + '#' + octave,\n              key: state.allKeys[keyIndex++],\n              pressed: false\n            };\n            newNote[\"blackNote\"] = blackNote;\n          }\n          commit(ADD_NOTE, newNote);\n          if (octave === endOctave && currentNote === 'B') {\n            // we always end with note B\n            break;\n          }\n          noteIndex++;\n        }\n        noteIndex = 0;\n      }\n      commit(SET_WHITE_NOTE_WIDTH_SIZE, 100 / state.notes.length);\n    },\n    [generateNotesIndexesByKey]({\n      commit,\n      state\n    }) {\n      commit(CLEAR_NOTES_INDICES_ARRAY);\n      for (let index = 0; index < state.notes.length; index++) {\n        let forBlackNote = false;\n        commit(ADD_NEW_KEY_INDEX, {\n          index,\n          forBlackNote\n        });\n        if (state.notes[index].blackNote != undefined) {\n          forBlackNote = true;\n          commit(ADD_NEW_KEY_INDEX, {\n            index,\n            forBlackNote\n          });\n        }\n      }\n    }\n  }\n};","map":{"version":3,"names":["canvasState","recordingState","CLEAR_NOTES_ARRAY","CLEAR_NOTES_INDICES_ARRAY","SET_WHITE_NOTE_WIDTH_SIZE","SET_NOTE_PRESSED","SET_MOUSE_PRESSED","ADD_NOTE","CLEAR_PRESSED_KEYS","ADD_RECORD_MAP","ADD_RECORD_MIDI","playNote","playNoteMouse","playNoteHover","removePressedKey","removePressedKeyMouse","changeInput","generateNotes","generateNotesIndexesByKey","startDrawNote","stopDrawNote","namespaced","state","notesIndexesByKey","notes","whiteNoteWidthSize","isMousePressed","allKeys","allNotes","mutations","length","size","index","forBlackNote","pressed","blackNote","value","note","push","actions","commit","rootState","dispatch","currentNote","menuState","editKeys","sustain","toneState","sampler","triggerAttack","triggerAttackRelease","isRecording","root","noteName","triggerRelease","key","DELETE_INDEX_KEY","SET_NOTE_KEY","UPDATE_INDEX_KEY","keyIndex","noteIndex","startOctave","octaves","endOctave","octave","newNote","ADD_NEW_KEY_INDEX","undefined"],"sources":["/Users/Sunhaoxiang/Desktop/IB_CS/CS_IA/src/store/modules/keyboardState.js"],"sourcesContent":["import { canvasState, recordingState } from \"@/store/consts/states.js\";\nimport { CLEAR_NOTES_ARRAY, \n  CLEAR_NOTES_INDICES_ARRAY,\n  SET_WHITE_NOTE_WIDTH_SIZE,\n  SET_NOTE_PRESSED,\n  SET_MOUSE_PRESSED,\n  ADD_NOTE,\n  CLEAR_PRESSED_KEYS,\n  ADD_RECORD_MAP,\n  ADD_RECORD_MIDI\n} from \"@/store/consts/mutations.js\";\nimport { playNote, \n  playNoteMouse,\n  playNoteHover,\n  removePressedKey,\n  removePressedKeyMouse,\n  changeInput,\n  generateNotes,\n  generateNotesIndexesByKey,\n  startDrawNote,\n  stopDrawNote\n} from \"@/store/consts/actions.js\";\n\nexport default {\n    namespaced: true,\n\n    state: {\n      notesIndexesByKey: {},\n      notes : [],\n\n      whiteNoteWidthSize: 0,\n      isMousePressed: false,\n\n      // 45 keys\n      allKeys:[\n        '`', `1`, '2', '3', '4', '5', '6', '7', '8', '9', '0', '-', '=',\n        'q', 'w', 'e', 'r', 't', 'y', 'u', 'i', 'o', 'p', '[', ']', '\\\\',\n        'a', 's', 'd', 'f', 'g', 'h', 'j', 'k', 'l', ';',\n        'z', 'x', 'c', 'v', 'b', 'n', 'm', ',', '.'\n      ],\n\n      allNotes:['C', 'D', 'E', 'F', 'G', 'A', 'B'],\n    },\n\n    mutations: {\n        [CLEAR_NOTES_ARRAY](state){\n            state.notes.length = 0;\n        },\n        [CLEAR_NOTES_INDICES_ARRAY](state){\n            state.notesIndexesByKey.length = 0;\n        },\n        [SET_WHITE_NOTE_WIDTH_SIZE](state, size){\n          state.whiteNoteWidthSize = size;\n        },\n        [SET_NOTE_PRESSED](state, { index, forBlackNote, pressed }){\n          if(forBlackNote){\n            state.notes[index].blackNote.pressed = pressed;\n          } else {\n            state.notes[index].pressed = pressed;\n          }\n        },\n        [SET_MOUSE_PRESSED](state, value){\n          state.isMousePressed = value;\n        },\n        [ADD_NOTE](state, note){\n            state.notes.push(note);\n        },\n\n        [CLEAR_PRESSED_KEYS](state) {\n          for(let note of state.notes) {\n            note.pressed = false;\n            if(note.blackNote){\n              note.blackNote.pressed = false;\n            }\n          }\n        }\n    },\n\n    actions: {\n      [playNote]({ commit, state, rootState, dispatch}, { index, forBlackNote }) {\n        const currentNote = forBlackNote ? state.notes[index].blackNote : state.notes[index];\n        if(!currentNote.pressed && !rootState.menuState.editKeys) {\n\n          if(rootState.menuState.sustain == false){\n            rootState.toneState.sampler.triggerAttack(currentNote.note);\n          } else {\n            rootState.toneState.sampler.triggerAttackRelease(currentNote.note, \"2n\");\n          }\n\n          commit(SET_NOTE_PRESSED, { index, forBlackNote, pressed : true });\n\n          if(rootState.recordingState.isRecording){\n            commit(recordingState + \"/\" + ADD_RECORD_MAP, currentNote.note, {root:true});\n          }\n\n          dispatch(canvasState + \"/\" + startDrawNote, {noteName: currentNote.note, forBlackNote}, {root:true});\n        }\n      },\n\n      [playNoteMouse]({ commit, dispatch }, { index, forBlackNote }) {\n        commit(SET_MOUSE_PRESSED, true);\n        dispatch(playNote, { index, forBlackNote });\n      },\n  \n      [playNoteHover]({ state, dispatch }, { index, forBlackNote }) {\n        if(state.isMousePressed){ \n          dispatch(playNote, { index, forBlackNote });\n        }\n      },\n\n      [removePressedKey]({ state, commit, rootState, dispatch }, { index, forBlackNote }) {\n        const currentNote = forBlackNote ? state.notes[index].blackNote : state.notes[index];\n        if(currentNote.pressed === true){\n\n          if(rootState.menuState.sustain == false){\n            rootState.toneState.sampler.triggerRelease(currentNote.note);\n          }\n\n          commit(SET_NOTE_PRESSED, { index, forBlackNote, pressed : false });\n\n          if(rootState.recordingState.isRecording){\n            commit(recordingState + \"/\" + ADD_RECORD_MIDI, currentNote.note, {root:true});\n          }\n\n          dispatch(canvasState + \"/\" + stopDrawNote, {noteName: currentNote.note, forBlackNote}, {root:true});\n        }\n      },\n\n      [removePressedKeyMouse]({ commit, dispatch }, { index, forBlackNote }) {\n        commit(SET_MOUSE_PRESSED, false);\n        dispatch(removePressedKey, { index, forBlackNote });\n      },\n\n      [changeInput]({ commit }, {value, key, index, forBlackNote}) {\n        commit(DELETE_INDEX_KEY, key);\n        commit(SET_NOTE_KEY, {value, index, forBlackNote});\n        commit(UPDATE_INDEX_KEY, {key:value, index})\n      },\n\n      [generateNotes]({ commit, state, rootState }) {\n        commit(CLEAR_NOTES_ARRAY);\n        let keyIndex = 0;\n        let noteIndex = 0;\n        const startOctave = rootState.menuState.octaves[0];\n        const endOctave = rootState.menuState.octaves[1];\n\n        for(let octave = startOctave; octave <= endOctave; octave++) {\n  \n            while(noteIndex < state.allNotes.length) {\n              const currentNote = state.allNotes[noteIndex];\n  \n              let newNote = {\n                note: currentNote + octave,\n                key: state.allKeys[keyIndex++],\n                pressed: false,\n              }\n  \n              if(currentNote != 'B' && currentNote!= 'E') {\n                let blackNote = {\n                  note: currentNote + '#' + octave,\n                  key: state.allKeys[keyIndex++],\n                  pressed: false,\n                }\n  \n                newNote[\"blackNote\"] = blackNote;\n              }\n            \n              commit(ADD_NOTE, newNote);\n  \n              if(octave === endOctave && currentNote === 'B'){ // we always end with note B\n                break;\n              }\n  \n              noteIndex++;\n            }\n            noteIndex = 0;\n        }\n  \n        commit(SET_WHITE_NOTE_WIDTH_SIZE, 100 / state.notes.length);\n      },\n\n      [generateNotesIndexesByKey]({ commit, state }) {\n          commit(CLEAR_NOTES_INDICES_ARRAY);\n          \n          for(let index = 0; index < state.notes.length; index++){\n            let forBlackNote = false;  \n            commit(ADD_NEW_KEY_INDEX, { index, forBlackNote });\n    \n            if(state.notes[index].blackNote != undefined){\n              forBlackNote = true;\n              commit(ADD_NEW_KEY_INDEX, { index, forBlackNote });\n            } \n          }\n      },\n    },\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}