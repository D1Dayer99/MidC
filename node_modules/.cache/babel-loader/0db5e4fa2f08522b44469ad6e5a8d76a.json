{"ast":null,"code":"/* Importing necessary files and functions*/\nimport PianoMenu from \"./components/main/menu\"; /* Used for the features used by the user, such as toggling play/stop, toggling note annotations etc*/\nimport PianoKeyboard from \"./components/main/keyboard\"; /* Drawing the keyboard */\nimport SaveSong from \"./components/screens/savesong\";\nimport LoadingScreen from \"./components/screens/loading\";\nimport { mapState, mapActions } from 'vuex'; /* State management */\nimport { canvasState } from \"@/store/consts/states.js\";\nimport { resizeKeys } from \"@/store/consts/actions.js\";\nexport default {\n  components: {\n    PianoMenu,\n    PianoKeyboard,\n    SaveSong,\n    LoadingScreen\n  },\n  /*resizing the piano key sizes*/\n  start() {\n    window.addEventListener(\"resize\", this.resize);\n    this.$root.$on(\"resize_keys\", this.resize);\n  },\n  stop() {\n    window.removeEventListener(\"resize\", {});\n  },\n  methods: {\n    ...mapActions(canvasState, [resizeKeys]),\n    resize() {\n      const pianoContainerDimensions = document.getElementById(\"piano-container\").getBoundingClientRect(); /*Initialized in keyboard.vue, getting the size of the keyboard */\n      const pianoMenuDimentsions = document.getElementById(\"piano-menu\").getBoundingClientRect();\n      const height = window.innerHeight - pianoContainerDimensions.height - pianoMenuDimentsions.height; /*Resizing the menu and the keyboard  */\n      const width = pianoContainerDimensions.width;\n      const whiteNotes = document.getElementsByClassName(\"white-notes\"); /*Returns a HTML array of all the white/black notes respectively */\n      const blackNotes = document.getElementsByClassName(\"black-notes\");\n      const whiteWidth = whiteNotes[0].getBoundingClientRect().width;\n      const blackWidth = blackNotes[0].getBoundingClientRect().width;\n      const key_array = Array.from(whiteNotes).concat(Array.from(blackNotes)); /*Merging the two arrays*/\n      const visualizeDelay = height * 10;\n      this.resizeKeys({\n        height,\n        width,\n        key_array,\n        whiteWidth,\n        blackWidth,\n        visualizeDelay\n      });\n    }\n  }\n};","map":{"version":3,"mappings":"AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;EAEAA;IAAAC;IAAAC;IAAAC;IAAAC;EAAA;EAEA;EACAC;IACAC;IACA;EACA;EACAC;IACAD;EACA;EAEAE;IACA;IAEAC;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;QAAAC;QAAAC;QAAAC;QAAAC;QAAAC;QAAAC;MAAA;IAEA;EACA;AACA","names":["components","PianoMenu","PianoKeyboard","SaveSong","LoadingScreen","start","window","stop","methods","resize","height","width","key_array","whiteWidth","blackWidth","visualizeDelay"],"sourceRoot":"src","sources":["Piano.vue"],"sourcesContent":["<template> <!-- Canvas template -->\n  <div id=\"piano_visualizer\" data-app>\n    <PianoMenu></PianoMenu>\n    <canvas style=\"background:url('./canvas_black_background.jpg')\"></canvas> <!-- img in public -->\n    <PianoKeyboard></PianoKeyboard>\n    <SaveSong></SaveSong>\n    <LoadingScreen></LoadingScreen>\n  </div>\n</template>\n\n<script>\n/* Importing necessary files and functions*/\nimport PianoMenu from \"./components/main/menu\"; /* Used for the features used by the user, such as toggling play/stop, toggling note annotations etc*/\nimport PianoKeyboard from \"./components/main/keyboard\";  /* Drawing the keyboard */\nimport SaveSong from \"./components/screens/savesong\";\nimport LoadingScreen from \"./components/screens/loading\";\nimport { mapState, mapActions } from 'vuex'; /* State management */ \nimport { canvasState } from \"@/store/consts/states.js\"\nimport { resizeKeys } from \"@/store/consts/actions.js\";\n\nexport default{\n\n  components: { PianoMenu, PianoKeyboard, SaveSong, LoadingScreen },\n\n  /*resizing the piano key sizes*/\n  start() {\n    window.addEventListener(\"resize\", this.resize);\n    this.$root.$on(\"resize_keys\", this.resize);\n  },\n  stop() {\n    window.removeEventListener(\"resize\", {});\n  },\n\n  methods: {\n    ...mapActions(canvasState, [resizeKeys]),\n\n    resize() {\n      const pianoContainerDimensions = document.getElementById(\"piano-container\").getBoundingClientRect(); /*Initialized in keyboard.vue, getting the size of the keyboard */\n      const pianoMenuDimentsions = document.getElementById(\"piano-menu\").getBoundingClientRect();\n      const height = window.innerHeight - pianoContainerDimensions.height - pianoMenuDimentsions.height;/*Resizing the menu and the keyboard  */\n      const width = pianoContainerDimensions.width;\n      const whiteNotes = document.getElementsByClassName(\"white-notes\");/*Returns a HTML array of all the white/black notes respectively */\n      const blackNotes = document.getElementsByClassName(\"black-notes\");\n      const whiteWidth = whiteNotes[0].getBoundingClientRect().width;\n      const blackWidth = blackNotes[0].getBoundingClientRect().width;\n      const key_array = Array.from(whiteNotes).concat(Array.from(blackNotes)); /*Merging the two arrays*/\n      const visualizeDelay = height * 10;\n      this.resizeKeys({ height, width, key_array, whiteWidth, blackWidth, visualizeDelay });\n\n    },\n  },\n}\n\n</script>\n\n<style>\n* {\n  -webkit-user-select: none; /* Safari */\n  -ms-user-select: none; /* IE 10+ and Edge */\n  user-select: none; /* Standard syntax */\n  box-sizing: border-box;\n  font-family: \"Lucida Console\", Courier, monospace;\n}\nbody, html {\n  height: 100%;\n  width: 100%;\n  margin: 0;\n  padding: 0;\n  overflow-y: hidden;\n}\n \n#piano {\n  height: 100%;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  flex-direction: column;\n}\nselect:focus {\n  outline: 0;\n}\n \nbutton:focus {\n  outline: 0;\n}\n \ninput:focus {\n  outline: 0;\n} \n::-webkit-scrollbar {\n  width: 5px;\n}\n::-webkit-scrollbar-track {\n  background: #f1f1f1;\n}\n::-webkit-scrollbar-thumb {\n  background: #888;\n  border-radius: 2px;\n}\n::-webkit-scrollbar-thumb:hover {\n  background: #555;\n  border-radius: 2px;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}